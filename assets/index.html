<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- ADD CDN, BS, or CSS and RESET -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!--script src="javascript/game.js" type="application/javascript"></script-->
    <link rel="stylesheet" href="css/reset.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    




    <title>Word Guess Game</title>

    <!-- 

    NOTES:

    use the key events to listen for the letters your players will type
    display on the page: 
    Press any key to get started!
    Wins: (# of times user guessed the word correctly)
    if the word is madonna, display it like this when the game starts 
    as the user guesses the correct letters reveal them (example: m_ d_nn_)
    
    1. number of guesses remaining: (# of guesses remaining for the user)
    2. letters already guessed: (letters the user has guessed as LZYH)
    3. After the user wins or loses, the game should automatically choose another word and make the user play it.


    Bonuses:


    1. Play a sound or song when the user guesses their word correctly, like in our demo
    2. Write some stylish CSS rules to make a design that fits your games theme
    3. HARD MODE: org the game code as an object, except for hte key events to get the 
        letter guessed. 
    4. Save the whole game and its properties in an object
    5. Save any of your game's functions as methods, and call them underneath your object declaration using 
       event listeners.
    6. Don't forget to place your game's functions as methods, and call them underneathyour object declaration using event listeners. 
        Remember: global variables, then obejects, and call them underneath your object declaration using event listeners
  
    PSEUDOCODE 


set variables
use key events to check letters selected
press any key to start
display the word madonna
use statistics for the wins

alert when correct sound or song chosen
alert should play song


check often with console.log


NOTES: prompt returns the input if the user clicks ok. if the user clicks cancel it returns null.


PSEUDOCODE:

display click anywhere to get started
prompt to press any key to start
user guesses letter
computer adds letter or returns try again
we add to their score (display wins)
game over after length + 4 tries


TO DO:
*check functionality
*see green notes below
*event listener
*getElementById
* add google fonts






-->
    <script> 


        var remainingWrong = 5;
        var wins = 0;
        var lastResult = null;
        var word;
        var correctWord;
        var answerArray;
        var update;
        var lettersGuessed;
        var words = [

            "Basie",
            "Armstrong",
            "Reinhardt",
            "Ellington",
            "Gershwin",
            "Beiderbecke",
            "Smith",
            "Baker"

        ];
        $(document).ready(function () {




            //click any key to get started

            document.onkeyup = function () {
                var userGuess = String.fromCharCode(event.keyCode).toLowerCase();

                checkGuess(userGuess);

            }

            function checkGuess(guess) {
                var found = false;
                for (var j = 0; j < correctWord.length; j++) {
                    if (correctWord[j].toLowerCase() === guess) {
                        answerArray[j] = guess;
                        correctWord = replaceAt(correctWord, j, " ");
                        found = true;
                        break;

                    }


                }

                if (!found) {
                    lettersGuessed.push(guess);
                    remainingWrong--;

                    if (remainingWrong == 0) {

                        lastResult = false;

                    }


                } else {
                    if (correctWord.trim() == "") {

                        wins++;
                        lastResult = true;

                    }

                }

                update();

            }


            var replaceAt = function (text, index, replacement) {
                return text.substr(0, index) + replacement + text.substr(index + replacement.length);
            }


            // start of game code





            update = function () {
                var html = "<p>";
                for (var i = 0; i < answerArray.length; i++) {
                    html += answerArray[i] + "  ";

                    //console.log(answerArray);
                }

                html += "</p>";
                if (lastResult != null) {
                    var result = lastResult ? "win" : "lose";

                    html += "<p> you " + result + "!</p>";
                    
                   
                    $("#newGame").show();

                }else{


                    html += "<p> remaining guesses:" + remainingWrong + "</p>";
                    html += "<p> letters guessed:" + lettersGuessed.toString() +  "</p>";

                }


                html += "<p> you have " + wins + " wins  </p>";


                $('#game').html(html);


            };

            newGameBtnClick( );




            /*if(guess === null) { 
            
            
            
            
            } */




            //alert(answerArray.join (""));
            function showSuccess() {

                alert("You Got it! The answer is" + word);

            }

            //need to make sure I am referencing the correct variables...

            /*var html = "<p>CLICK ANY KEY TO GET STARTED!</p>" +
            "<p>wins: " +  wins   + "</p>"  +
            "<p>current word: " +  current   + "</p>"  +
            "<p>number of guesses remaining: " +  remaining  +   "</p>" +
            "<p>letters already guessed: " + guessed +  "</p>";
            
            document.querySelector('#game').innerHTML = html; */

            //VARIABLES I STILL NEED:current word, guesses remaining, letters already guessed


        });

        function newGameBtnClick() {
            remainingWrong = 5;
            word = words[Math.floor(Math.random() * words.length)];
            correctWord = word;
            lettersGuessed = [];
            answerArray = [];
            for (var i = 0; i < word.length; i++) {
                answerArray[i] = "_";




            }
            lastResult = null;

            update();

            $("#newGame").hide();

           
        }


    </script>

</head>


<body>


 
     <div class = "hero-image">  
         <div class = "hero-text">
            

        
    <h1 style = "font-size: 30px" "font-style:bold">Word Guess Game</h1>

 


    <div id="game"></div>

    <br>

    <button onclick="newGameBtnClick()" id="newGame" style="display: none">New Game</button>

    </div> 
</div>   







</body>



</html>